<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[eslint-config-alloy][网站]</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.7dc41318.css" as="style"><link rel="preload" href="/assets/js/app.0339cce9.js" as="script"><link rel="preload" href="/assets/js/2.a737a9e8.js" as="script"><link rel="preload" href="/assets/js/8.aa4cc8b9.js" as="script"><link rel="prefetch" href="/assets/js/10.6bd81aec.js"><link rel="prefetch" href="/assets/js/11.54e5ca84.js"><link rel="prefetch" href="/assets/js/12.fa49db5d.js"><link rel="prefetch" href="/assets/js/3.d0c4be3c.js"><link rel="prefetch" href="/assets/js/4.d141788b.js"><link rel="prefetch" href="/assets/js/5.da6a9e4a.js"><link rel="prefetch" href="/assets/js/6.b4c67cf1.js"><link rel="prefetch" href="/assets/js/7.590d3d41.js"><link rel="prefetch" href="/assets/js/9.d02aff3d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7dc41318.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  已有项目
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  js
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css
</a></div><div class="nav-item"><a href="/git/" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/safe/" class="nav-link">
  安全
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  已有项目
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  js
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css
</a></div><div class="nav-item"><a href="/git/" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/safe/" class="nav-link">
  安全
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>[eslint-config-alloy][网站]</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/eslint-config-alloy.html#快速开始" class="sidebar-link">快速开始</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/eslint-config-alloy.html#设计理念" class="sidebar-link">设计理念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#样式相关的规则交给-prettier-管理" class="sidebar-link">样式相关的规则交给 [Prettier][] 管理</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#传承-eslint-的理念，帮助大家建立自己的规则" class="sidebar-link">传承 [ESLint 的理念][]，帮助大家建立自己的规则</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#高度的自动化：先进的规则管理，测试即文档即网站" class="sidebar-link">高度的自动化：先进的规则管理，测试即文档即[网站][]</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#与时俱进，第一时间跟进最新的规则" class="sidebar-link">与时俱进，第一时间跟进最新的规则</a></li></ul></li><li><a href="/eslint-config-alloy.html#使用方法" class="sidebar-link">使用方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#内置规则" class="sidebar-link">内置规则</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#react" class="sidebar-link">React</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#vue" class="sidebar-link">Vue</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#typescript" class="sidebar-link">TypeScript</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#typescript-react" class="sidebar-link">TypeScript React</a></li></ul></li><li><a href="/eslint-config-alloy.html#常见问题" class="sidebar-link">常见问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#在-vscode-中使用" class="sidebar-link">在 VSCode 中使用</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#vscode-中的-autofixonsave-没有效果" class="sidebar-link">VSCode 中的 autoFixOnSave 没有效果</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#如何结合-prettier-使用" class="sidebar-link">如何结合 Prettier 使用</a></li></ul></li><li><a href="/eslint-config-alloy.html#常用命令" class="sidebar-link">常用命令</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/eslint-config-alloy.html#q-a" class="sidebar-link">Q &amp; A</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#为什么要重复造轮子" class="sidebar-link">为什么要重复造轮子</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#为什么不用-standard" class="sidebar-link">为什么不用 standard</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#相比于-airbnb-规则有什么优势" class="sidebar-link">相比于 airbnb 规则有什么优势</a></li><li class="sidebar-sub-header"><a href="/eslint-config-alloy.html#你这个确实很好，我还是会选择-airbnb" class="sidebar-link">你这个确实很好，我还是会选择 airbnb</a></li></ul></li><li><a href="/eslint-config-alloy.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="eslint-config-alloy"><a href="#eslint-config-alloy" class="header-anchor">#</a> <a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">eslint-config-alloy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h1> <p>AlloyTeam ESLint 规则不仅是一套先进的适用于 React/Vue/Typescript 项目的 ESLint 配置规范，而且也是你配置个性化 ESLint 规则的最佳参考。</p> <h2 id="快速开始"><a href="#快速开始" class="header-anchor">#</a> 快速开始</h2> <p>请根据你的项目使用的技术栈选择以下配置：</p> <ul><li><a href="#%E5%86%85%E7%BD%AE%E8%A7%84%E5%88%99">内置规则</a></li> <li><a href="#react">React</a></li> <li><a href="#vue">Vue</a></li> <li><a href="#typescript">TypeScript</a></li> <li><a href="#typescript-react">TypeScript React</a></li></ul> <h2 id="设计理念"><a href="#设计理念" class="header-anchor">#</a> 设计理念</h2> <ul><li>样式相关的规则交给 <a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">Prettier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 管理</li> <li>传承 ESLint 的理念，帮助大家建立自己的规则</li> <li>高度的自动化：先进的规则管理，测试即文档即<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>与时俱进，第一时间跟进最新的规则</li></ul> <h3 id="样式相关的规则交给-prettier-管理"><a href="#样式相关的规则交给-prettier-管理" class="header-anchor">#</a> 样式相关的规则交给 <a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">Prettier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 管理</h3> <p>Prettier 是一个代码格式化工具，相比于 ESLint 中的代码格式规则，它提供了更少的选项，但是却更加专业。</p> <p>如今 Prettier 已经成为前端项目中的必备工具，eslint-config-alloy 也没有必要再去维护 ESLint 中的代码格式相关的规则了，所以我们在 v3 版本中彻底去掉了所有 Prettier 相关的规则，用 ESLint 来检查它更擅长的逻辑错误。</p> <p>至于缩进要两个空格还是四个空格，末尾要不要分号，可以在项目的 <code>.prettierrc.js</code> 中去配置，当然我们也提供了一份推荐的 Prettier 配置供大家参考。</p> <h3 id="传承-eslint-的理念，帮助大家建立自己的规则"><a href="#传承-eslint-的理念，帮助大家建立自己的规则" class="header-anchor">#</a> 传承 <a href="https://eslint.org/docs/about/#philosophy" target="_blank" rel="noopener noreferrer">ESLint 的理念<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，帮助大家建立自己的规则</h3> <p>大家还记得 ESLint 是怎么打败 JSHint 成为最受欢迎的 js 代码检查工具吗？就是因为 ESLint 推崇的插件化、配置化，满足了不同团队不同技术栈的个性的需求。</p> <p>所以 eslint-config-alloy 也传承了 ESLint 的设计理念，不会强调必须要使用我们这套规则，而是通过文档、示例、测试、网站等方便大家参考 alloy 的规则，在此基础上做出自己的个性化。</p> <p>由于 React/Vue/TypeScript 插件的文档没有中文化（或中文的版本很滞后），所以 alloy 的文档很大程度上帮助了国内开发者理解和配置个性化的规则。</p> <p>实际上国内有很多团队或个人公开的 ESLint 配置，都参考了 alloy 的文档。</p> <h3 id="高度的自动化：先进的规则管理，测试即文档即网站"><a href="#高度的自动化：先进的规则管理，测试即文档即网站" class="header-anchor">#</a> 高度的自动化：先进的规则管理，测试即文档即<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <blockquote><p>无情的推动自动化</p></blockquote> <p>eslint-config-alloy 通过高度的自动化，将一切能自动化管理的过程都交给脚本处理，其中包括了：</p> <ul><li>通过 greenkeeper 和 travis-ci，自动检查 ESLint 及相关插件是否有新版本，新版本中是否有新规则需要我们添加</li> <li>自动检查我们的规则是否包含了 Prettier 的规则</li> <li>自动检查我们的规则是否包含了已废弃（deprecated）的规则</li></ul> <p>除此之外，通过自动化的脚本，我们甚至可以将成百上千个 ESLint 配置文件分而治之，每个规则在一个单独的目录下管理：</p> <ul><li>通过脚本将单个的配置整合成最终的一个配置</li> <li>通过脚本将单个配置中的 description 和 reason 构建成文档<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，方便大家查看</li> <li>通过脚本将单个配置中的 <code>bad.js</code> 和 <code>good.js</code> 输出到<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，甚至可以直接在<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中看到 <code>bad.js</code> 的（真实运行 ESLint 脚本后的）报错信息</li></ul> <p>这样的好处是非常明显的，测试即文档即<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，我们可以只在一个地方维护规则和测试，其他工作都交给自动化脚本，极大的降低了维护的成本。简单来说，当我们有个新规则需要添加时，只需要写三个文件 <code>test/index/another-rule/.eslintrc.js</code>, <code>test/index/another-rule/bad.js</code>, <code>test/index/another-rule/good.js</code> 即可。</p> <h3 id="与时俱进，第一时间跟进最新的规则"><a href="#与时俱进，第一时间跟进最新的规则" class="header-anchor">#</a> 与时俱进，第一时间跟进最新的规则</h3> <p>ESLint 的更新很快，几乎每周都有一个新版本，有时有新规则，有时会废弃已有规则，而且相关插件（React/Vue/TypeScript）也会时而更新，没有自动化工具的话，实在是难以跟进。</p> <p>而 eslint-config-alloy 通过上述的自动化工具，可以在第一时间就收到 greenkeeper <a href="https://github.com/AlloyTeam/eslint-config-alloy/issues/127" target="_blank" rel="noopener noreferrer">提的 issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，告诉我们哪个插件更新了，其中的 <a href="https://travis-ci.org/AlloyTeam/eslint-config-alloy/builds/616828848" target="_blank" rel="noopener noreferrer">travis-ci 构建日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>会告诉我们哪些规则需要添加：</p> <p><img src="https://i.v2ex.co/zDK6Uao4.png" alt=""></p> <p>这样就实现了，在前端社区快速更迭的时候能够及时跟进最新的规则，永远保持 eslint-config-alloy 的活力和先进。</p> <h2 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h2> <h3 id="内置规则"><a href="#内置规则" class="header-anchor">#</a> 内置规则</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint babel-eslint eslint-config-alloy
</code></pre></div><p>在你的项目的根目录下创建一个 <code>.eslintrc.js</code> 文件，并将以下内容复制进去：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'alloy'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    env<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的环境变量（包含多个预定义的全局变量）</span>
        <span class="token comment">//</span>
        <span class="token comment">// browser: true,</span>
        <span class="token comment">// node: true,</span>
        <span class="token comment">// mocha: true,</span>
        <span class="token comment">// jest: true,</span>
        <span class="token comment">// jquery: true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    globals<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的全局变量（设置为 false 表示它不允许被重新赋值）</span>
        <span class="token comment">//</span>
        <span class="token comment">// myGlobal: false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自定义你的规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="react"><a href="#react" class="header-anchor">#</a> React</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint babel-eslint eslint-plugin-react eslint-config-alloy
</code></pre></div><p>在你的项目的根目录下创建一个 <code>.eslintrc.js</code> 文件，并将以下内容复制进去：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'alloy'</span><span class="token punctuation">,</span>
        <span class="token string">'alloy/react'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    env<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的环境变量（包含多个预定义的全局变量）</span>
        <span class="token comment">//</span>
        <span class="token comment">// browser: true,</span>
        <span class="token comment">// node: true,</span>
        <span class="token comment">// mocha: true,</span>
        <span class="token comment">// jest: true,</span>
        <span class="token comment">// jquery: true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    globals<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的全局变量（设置为 false 表示它不允许被重新赋值）</span>
        <span class="token comment">//</span>
        <span class="token comment">// myGlobal: false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自定义你的规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint babel-eslint vue-eslint-parser eslint-plugin-vue eslint-config-alloy
</code></pre></div><p>在你的项目的根目录下创建一个 <code>.eslintrc.js</code> 文件，并将以下内容复制进去：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'alloy'</span><span class="token punctuation">,</span>
        <span class="token string">'alloy/vue'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    env<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的环境变量（包含多个预定义的全局变量）</span>
        <span class="token comment">//</span>
        <span class="token comment">// browser: true,</span>
        <span class="token comment">// node: true,</span>
        <span class="token comment">// mocha: true,</span>
        <span class="token comment">// jest: true,</span>
        <span class="token comment">// jquery: true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    globals<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的全局变量（设置为 false 表示它不允许被重新赋值）</span>
        <span class="token comment">//</span>
        <span class="token comment">// myGlobal: false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自定义你的规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-config-alloy
</code></pre></div><p>在你的项目的根目录下创建一个 <code>.eslintrc.js</code> 文件，并将以下内容复制进去：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'alloy'</span><span class="token punctuation">,</span>
        <span class="token string">'alloy/typescript'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    env<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的环境变量（包含多个预定义的全局变量）</span>
        <span class="token comment">//</span>
        <span class="token comment">// browser: true,</span>
        <span class="token comment">// node: true,</span>
        <span class="token comment">// mocha: true,</span>
        <span class="token comment">// jest: true,</span>
        <span class="token comment">// jquery: true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    globals<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的全局变量（设置为 false 表示它不允许被重新赋值）</span>
        <span class="token comment">//</span>
        <span class="token comment">// myGlobal: false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自定义你的规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="typescript-react"><a href="#typescript-react" class="header-anchor">#</a> TypeScript React</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-react eslint-config-alloy
</code></pre></div><p>在你的项目的根目录下创建一个 <code>.eslintrc.js</code> 文件，并将以下内容复制进去：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'alloy'</span><span class="token punctuation">,</span>
        <span class="token string">'alloy/react'</span><span class="token punctuation">,</span>
        <span class="token string">'alloy/typescript'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    env<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的环境变量（包含多个预定义的全局变量）</span>
        <span class="token comment">//</span>
        <span class="token comment">// browser: true,</span>
        <span class="token comment">// node: true,</span>
        <span class="token comment">// mocha: true,</span>
        <span class="token comment">// jest: true,</span>
        <span class="token comment">// jquery: true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    globals<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 你的全局变量（设置为 false 表示它不允许被重新赋值）</span>
        <span class="token comment">//</span>
        <span class="token comment">// myGlobal: false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    rules<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自定义你的规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h2> <h3 id="在-vscode-中使用"><a href="#在-vscode-中使用" class="header-anchor">#</a> 在 VSCode 中使用</h3> <p>在 VSCode 中，默认 ESLint 并不能识别 <code>.vue</code>、<code>.ts</code> 或 <code>.tsx</code> 文件，需要在「文件 =&gt; 首选项 =&gt; 设置」里做如下配置：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;typescriptreact&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vscode-中的-autofixonsave-没有效果"><a href="#vscode-中的-autofixonsave-没有效果" class="header-anchor">#</a> VSCode 中的 autoFixOnSave 没有效果</h3> <p>如果需要针对 <code>.vue</code>、<code>.ts</code> 和 <code>.tsx</code> 文件开启 ESLint 的 autoFix，则需要配置成：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;eslint.autoFixOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;autoFix&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;autoFix&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;typescriptreact&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;autoFix&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="如何结合-prettier-使用"><a href="#如何结合-prettier-使用" class="header-anchor">#</a> 如何结合 Prettier 使用</h3> <p>eslint-config-alloy 从 v3 开始，已经不包含所有样式相关的规则了，故不需要引入 <code>eslint-config-prettier</code>。只需要安装 <code>prettier</code> 及相关 VSCode 插件即可。</p> <p>下面给出一个 AlloyTeam 使用的 <code>.prettierrc.js</code> 配置，仅供参考：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .prettierrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 一行最多 100 字符</span>
    printWidth<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token comment">// 使用 4 个空格缩进</span>
    tabWidth<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token comment">// 不使用缩进符，而使用空格</span>
    useTabs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 行尾需要有分号</span>
    semi<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 使用单引号</span>
    singleQuote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 对象的 key 仅在必要时用引号</span>
    quoteProps<span class="token operator">:</span> <span class="token string">'as-needed'</span><span class="token punctuation">,</span>
    <span class="token comment">// jsx 不使用单引号，而使用双引号</span>
    jsxSingleQuote<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 末尾不需要逗号</span>
    trailingComma<span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
    <span class="token comment">// 大括号内的首尾需要空格</span>
    bracketSpacing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// jsx 标签的反尖括号需要换行</span>
    jsxBracketSameLine<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 箭头函数，只有一个参数的时候，也需要括号</span>
    arrowParens<span class="token operator">:</span> <span class="token string">'always'</span><span class="token punctuation">,</span>
    <span class="token comment">// 每个文件格式化的范围是文件的全部内容</span>
    rangeStart<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    rangeEnd<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
    <span class="token comment">// 不需要写文件开头的 @prettier</span>
    requirePragma<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 不需要自动在文件开头插入 @prettier</span>
    insertPragma<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 使用默认的折行标准</span>
    proseWrap<span class="token operator">:</span> <span class="token string">'preserve'</span><span class="token punctuation">,</span>
    <span class="token comment">// 根据显示样式决定 html 要不要折行</span>
    htmlWhitespaceSensitivity<span class="token operator">:</span> <span class="token string">'css'</span><span class="token punctuation">,</span>
    <span class="token comment">// 换行符使用 lf</span>
    endOfLine<span class="token operator">:</span> <span class="token string">'lf'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 安装依赖</span>
<span class="token function">npm</span> i
<span class="token comment"># 构建 index.js react.js 等 eslintrc 配置</span>
<span class="token function">npm</span> run build
<span class="token comment"># 执行测试</span>
<span class="token function">npm</span> <span class="token builtin class-name">test</span>
<span class="token comment"># 自动修复 ESLint 错误</span>
<span class="token function">npm</span> run eslint:fix
<span class="token comment"># 自动修复格式错误</span>
<span class="token function">npm</span> run prettier:fix
<span class="token comment"># 检查当前是否覆盖了所有的规则</span>
<span class="token function">npm</span> run test:rulesCoverage
<span class="token comment"># 发布新版本</span>
<span class="token function">npm</span> version <span class="token operator">&lt;</span>major<span class="token operator">|</span>minor<span class="token operator">|</span>patch<span class="token operator">&gt;</span>
<span class="token function">git</span> push --follow-tags
<span class="token function">npm</span> publish
</code></pre></div><h2 id="q-a"><a href="#q-a" class="header-anchor">#</a> Q &amp; A</h2> <h3 id="为什么要重复造轮子"><a href="#为什么要重复造轮子" class="header-anchor">#</a> 为什么要重复造轮子</h3> <p>其实我们团队最开始使用 airbnb 规则，但是由于它过于严格，部分规则还是需要个性化，导致后来越改越多，最后决定重新维护一套。经过两年多的打磨，现在 eslint-config-alloy 已经非常成熟与先进，也受到了公司内外很多团队的欢迎。</p> <h3 id="为什么不用-standard"><a href="#为什么不用-standard" class="header-anchor">#</a> 为什么不用 standard</h3> <p>standard 规范认为大家不应该浪费时间在个性化的规范了，而应该整个社区统一一份规范。这种说法有一定道理，但是它是与 ESLint 的设计理念背道而驰的。大家还记得 ESLint 是怎么打败 JSHint 成为最受欢迎的 js 代码检查工具吗？就是因为 ESLint 推崇的插件化、配置化，满足了不同团队不同技术栈的个性的需求。</p> <p>所以 eslint-config-alloy 也传承了 ESLint 的设计理念，不会强调必须要使用我们这套规则，而是通过文档、示例、测试、网站等方便大家参考 alloy 的规则，在此基础上做出自己的个性化。</p> <p>由于 React/Vue/TypeScript 插件的文档没有中文化（或中文的版本很滞后），所以 alloy 的文档很大程度上帮助了国内开发者理解和配置个性化的规则。</p> <p>实际上国内有很多团队或个人公开的 ESLint 配置，都参考了 alloy 的文档。</p> <h3 id="相比于-airbnb-规则有什么优势"><a href="#相比于-airbnb-规则有什么优势" class="header-anchor">#</a> 相比于 airbnb 规则有什么优势</h3> <ol><li>eslint-config-alloy 拥有官方维护的 vue、typescript、react+typescript 规则，相比之下 airbnb 的 vue 和 typescript 都是第三方维护的</li> <li>先进性，保证能够与时俱进，前面已经重点提到了</li> <li>方便个性化定制，包含中文讲解和网站示例</li></ol> <h3 id="你这个确实很好，我还是会选择-airbnb"><a href="#你这个确实很好，我还是会选择-airbnb" class="header-anchor">#</a> 你这个确实很好，我还是会选择 airbnb</h3> <p>没关系，eslint-config-alloy 从设计理念上就相信不同团队不同项目可以有不同的配置，虽然你选择使用 airbnb，但是当你有个性化配置需求的时候，还是可以来我们<a href="https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上参考一下哦~</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="http://alloyteam.github.io/CodeGuide" target="_blank" rel="noopener noreferrer">Alloyteam Code Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://eslint.org/docs/user-guide/configuring" target="_blank" rel="noopener noreferrer">ESlint Code Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://eslint.org/docs/developer-guide/shareable-configs" target="_blank" rel="noopener noreferrer">ESlint Shareable Config<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0339cce9.js" defer></script><script src="/assets/js/2.a737a9e8.js" defer></script><script src="/assets/js/8.aa4cc8b9.js" defer></script>
  </body>
</html>
